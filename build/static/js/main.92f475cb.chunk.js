(this.webpackJsonpsplit1=this.webpackJsonpsplit1||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){"use strict";n.r(t);var a=n(5),s=n.n(a),r=n(0),i=n.n(r),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function l(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var c=n(1),m=n(3),u=n(2),d={mode:"landing",people:{loggedPersons:[],personToEdit:void 0}};function p(e,t){var n;switch(t.type){case"TOGGLE_MODE":return Object(u.a)({},e,{mode:t.payload});case"ADD_PERSON":return(n=Object(m.a)(e.people.loggedPersons)).push(t.payload),Object(u.a)({},e,{people:Object(u.a)({},e.people,{loggedPersons:n})});case"EDIT_PERSON":var a=e.people.loggedPersons.filter((function(e){return e.name===t.payload}));return n=Object(m.a)(e.people.loggedPersons).filter((function(e){return e.name!==t.payload})),Object(u.a)({},e,{people:Object(u.a)({},e.people,{loggedPersons:n,personToEdit:a[0]})});case"DELETE_PERSON":return n=Object(m.a)(e.people.loggedPersons).filter((function(e){return e.name!==t.payload})),Object(u.a)({},e,{people:Object(u.a)({},e.people,{loggedPersons:n})});case"RESET_DATA":return n=[],Object(u.a)({},e,{people:Object(u.a)({},e.people,{loggedPersons:n})});default:return e}}var _=Object(r.createContext)();function E(e){var t=e.toggleMode;return i.a.createElement("div",{className:"view-container landing"},i.a.createElement("div",{className:"landing__banner"},i.a.createElement("div",{className:"landing__banner__main"},i.a.createElement("h1",{className:"landing__banner__main__title"},"Split"),i.a.createElement("hr",{className:"landing__banner__main__ruler"}),i.a.createElement("h3",{className:"landing__banner__main__title landing__banner__main__title--description"},"Expense breakdown for parties, projects and more..")),i.a.createElement("div",{className:"landing__description"},i.a.createElement("p",{className:"landing__description__paragraph"},"Add person"),i.a.createElement("p",{className:"landing__description__paragraph"},"Log items bought and prices"),i.a.createElement("p",{className:"landing__description__paragraph"},"See how much everyone owes or is owed"))),i.a.createElement("div",{className:"button button--landing",onClick:function(){return t("workView")}},"START"))}function f(e){var t=e.data,n=e.editPerson,a=e.deletePerson,s=e.setView;return i.a.createElement("div",{className:"list-item"},i.a.createElement("div",{className:"list-item__text-container"},i.a.createElement("span",{className:"list-item__text--bold"},t.name.charAt(0).toUpperCase()+t.name.substring(1)),i.a.createElement("span",null,t.items.length," ",t.items.length>1?"items":"item")),i.a.createElement("div",{className:"list-item__button-container"},i.a.createElement("div",{className:"button person-btn",onClick:function(){return e=t.name,s(),void n(e);var e}},"Edit"),i.a.createElement("div",{className:"button person-btn",onClick:function(){return a(t.name)}},i.a.createElement("i",{class:"fa fa-times"}))))}function g(e){var t=e.type,n=e.reset,a=e.landing,s=e.setView,r=e.addPerson,o=e.personEdit,l=e.validInputs,c=e.backToPeopleList,m=e.validLoggedPersons;return i.a.createElement(i.a.Fragment,null,"personForm"===t&&i.a.createElement("div",{className:"navbar"},i.a.createElement("div",{className:"button back-btn",onClick:c},i.a.createElement("i",{class:"fa fa-chevron-left"})),i.a.createElement("div",{onClick:function(e){return l?r(e):null},className:l?"button get-result-btn":"button get-result-btn-disabled"},o?"SAVE CHANGES":"ADD PERSON")),"peopleList"===t&&i.a.createElement("div",{className:"navbar"},i.a.createElement("div",{className:"button back-btn",onClick:function(){return a()}},i.a.createElement("i",{class:"fa fa-chevron-left"})),i.a.createElement("div",{className:m?"button get-result-btn":"button get-result-btn-disabled",onClick:function(){return m?s("resultsView"):null}},"GET RESULT")),"resultsView"===t&&i.a.createElement("div",{className:"navbar navbar--results"},i.a.createElement("div",{className:"button results-btn results-btn--back",onClick:c},i.a.createElement("i",{class:"fa fa-chevron-left"})),i.a.createElement("div",{className:"button results-btn",onClick:n},"Start Again")))}function b(e){var t=e.setView,n=e.landing,a=e.data,s=e.deletePerson,r=e.editPerson,o=a.people.loggedPersons.length>=1;return i.a.createElement("div",{className:"view-container people-list"},i.a.createElement(g,{type:"peopleList",landing:function(){return n()},setView:function(){return t("resultsView")},validLoggedPersons:o}),i.a.createElement("div",{className:"people-list__content-container"},o&&i.a.createElement("div",{className:"people-list__content-container--people"},a.people.loggedPersons.map((function(e){return i.a.createElement(f,{data:e,key:e.name,editPerson:r,deletePerson:s,setView:function(){return t("personEdit")}})}))),i.a.createElement("div",{onClick:function(){return t("personForm")},className:o?"button add-person-btn add-person-btn-bottom":"button add-person-btn"},i.a.createElement("h3",null,"Add Person"))))}function v(e){var t=e.addNameForm,n=e.personName,a=e.setPersonName,s=e.validPersonName,o=e.setAddNameForm,l=e.personIsDuplicate,c=null;return Object(r.useEffect)((function(){c.focus()}),[]),i.a.createElement("div",{className:t?"name-form--full":"name-form--small"},i.a.createElement("div",{className:"name-form__input-container"},i.a.createElement("div",{className:t?"name-form__input__name-message":"name-form__input__name-message--small"},t?l?"That name already exists":"Who bought this items?":"Adding items bought by"),i.a.createElement("input",{type:"text",value:n,placeholder:"Add person name",ref:function(e){c=e},onChange:function(e){return a(e.target.value)},className:t?l?"name-form__person-input name-form__person-input--error":"name-form__person-input":"name-form__person-input name-form__person-input--small"})),t&&i.a.createElement("div",{onClick:function(){return s&&!l?o(!1):null},className:s&&!l?"button add-person-btn":"button add-person-btn-disabled"},i.a.createElement("h3",null,"Add Items")))}function N(e){var t=e.el,n=e.removeItem,a=e.itemEditing,s=e.editItemName,r=e.editItemCost,o=e.validEditItem,l=e.setItemEditing,c=e.toggleItemEdit,m=e.setEditItemName,u=e.setEditItemCost,d=e.saveItemChanges;return i.a.createElement("div",{className:a!==t.name?"list-item":"list-item list-item--editing"},a!==t.name&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"list-item__text-container"},i.a.createElement("span",null,t.name.charAt(0).toUpperCase()+t.name.substring(1)),i.a.createElement("span",{className:"list-item__text--bold"},"$",t.cost)),i.a.createElement("div",{className:"list-item__button-container"},i.a.createElement("div",{className:"button list-item__btn",onClick:c},"Edit"),i.a.createElement("div",{className:"button list-item__btn",onClick:n},i.a.createElement("i",{className:"fa fa-times"})))),a===t.name&&i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"list-item__input-container"},i.a.createElement("input",{type:"text",value:s,placeholder:"Item Name",className:"list-item__input-container__input list-item__input-container__input--text",onChange:function(e){return m(e.target.value)}}),i.a.createElement("input",{type:"number",value:r,placeholder:"Cost",className:"list-item__input-container__input",onChange:function(e){return u(e.target.value)}})),i.a.createElement("div",{className:"list-item__button-container"},i.a.createElement("div",{className:o?"button list-item__button--edit":"button list-item__button--edit list-item__button--edit--disabled",onClick:o?d:null},"Save"),i.a.createElement("div",{className:"button list-item__button--edit",onClick:l},"Cancel"))))}function h(e){var t=e.itemName,n=e.setItemName,a=e.itemCost,s=e.setItemCost,r=e.validItem,o=e.addItem;return i.a.createElement("div",{className:"add-item-form"},i.a.createElement("div",{className:"add-item-form__inputs"},i.a.createElement("input",{type:"text",value:t,placeholder:"Item",className:"add-item-form__input",onChange:function(e){return n(e.target.value)}}),i.a.createElement("input",{type:"number",value:a,placeholder:"Cost",className:"add-item-form__input add-item-form__input--small",onChange:function(e){return s(e.target.value)}})),i.a.createElement("div",{onClick:function(e){return r?o(e):null},className:r?"button add-item-btn":"button add-item-btn-disabled"},"Add Item"))}function P(e){var t=e.type,n=e.toggleErrorMsg;return i.a.createElement(i.a.Fragment,null,("duplicatePerson"===t||"duplicateItem"===t)&&i.a.createElement("div",{className:"feedback-banner--duplicate-item"},i.a.createElement("div",{className:"feedback-banner--duplicate-item__text"},"duplicateItem"===t?"An item":"A person"," with that name already exists, try a different name"),i.a.createElement("div",{onClick:n,className:"button add-item-btn banner_duplicate_item_btn"},"Ok")),"no_people"===t&&i.a.createElement("div",{className:"feedback-banner--no-person"},i.a.createElement("h3",null,"No Items"),i.a.createElement("h4",{className:"feedback-banner--no-person__text"},"Start adding using the form above")))}function w(e){var t=e.setView,n=e.state,a=e.addPersonDispatch,s=e.personEdit,o=e.personToEdit,l=Object(r.useState)(""),u=Object(c.a)(l,2),d=u[0],p=u[1],_=Object(r.useState)(""),E=Object(c.a)(_,2),f=E[0],b=E[1],w=Object(r.useState)(!1),O=Object(c.a)(w,2),C=O[0],j=O[1],k=Object(r.useState)(""),I=Object(c.a)(k,2),y=I[0],S=I[1],D=Object(r.useState)(""),A=Object(c.a)(D,2),x=A[0],T=A[1],L=Object(r.useState)(!1),V=Object(c.a)(L,2),R=V[0],F=V[1],M=Object(r.useState)(!s),W=Object(c.a)(M,2),U=W[0],$=W[1],G=Object(r.useState)(o?o.items:[]),B=Object(c.a)(G,2),J=B[0],H=B[1],q=Object(r.useState)(s?o.name:""),z=Object(c.a)(q,2),K=z[0],Q=z[1],X=0!==J.length,Y=""!==K,Z=""!==d&&""!==f&&f>0,ee=""!==y&&""!==x&&x>0,te=Y&&X,ne=0!==J.filter((function(e){return e.name===d})).length,ae=0!==n.people.loggedPersons.filter((function(e){return e.name===K})).length;return i.a.createElement("div",{className:"view-container person-form"},i.a.createElement(g,{type:"personForm",addPerson:function(e){(e.preventDefault(),ae)?j("duplicatePerson"):(a({name:K,items:J}),t("peopleList"))},personEdit:s,validInputs:te,backToPeopleList:function(){s&&a(o),t("peopleList")}}),i.a.createElement("div",{className:"person-form__content"},i.a.createElement(v,{personName:K,addNameForm:U,setPersonName:Q,setAddNameForm:$,validPersonName:Y,personIsDuplicate:ae}),!U&&i.a.createElement("div",{className:"person-form__content__items-container"},"duplicateItem"===C&&0!==J.length&&i.a.createElement(P,{type:C,toggleErrorMsg:function(){return j(!1)}}),"duplicatePerson"===C&&i.a.createElement(P,{type:C,toggleErrorMsg:function(){return j(!1)}}),!C&&i.a.createElement(h,{addItem:function(e){if(e.preventDefault(),ne)j("duplicateItem");else{C&&j(!1);var t={name:d,cost:f},n=Object(m.a)(J);n.push(t),H(n),p(""),b("")}},itemName:d,itemCost:f,validItem:Z,setItemCost:b,setItemName:p}),0===J.length&&i.a.createElement(P,{type:"no_people"}),J.map((function(e){return i.a.createElement(N,{el:e,key:e.name,itemEditing:R,editItemName:y,editItemCost:x,validEditItem:ee,setEditItemCost:T,setEditItemName:S,removeItem:function(){return function(e){var t=Object(m.a)(J);t=t.filter((function(t){return t.name!==e})),H(t)}(e.name)},toggleItemEdit:function(){return S((t=e).name),T(t.cost),void F(t.name);var t},setItemEditing:function(){return F(!1)},saveItemChanges:function(){return function(e){if(ne)j("duplicateItem");else{var t=Object(m.a)(J);t=t.filter((function(t){return t.name!==e}));var n={name:y,cost:x};t.push(n),H(t),F(!1)}}(e.name)}})})))))}function O(e){var t=e.totalCost,n=e.costPerPerson,a=e.viewMode,s=e.setViewMode,r=e.setPersonDetail;return i.a.createElement("div",{className:"results-header"},i.a.createElement("div",{className:"results-header__results-text"},i.a.createElement("div",{className:"results-header__results-text--main"},"Total cost ",i.a.createElement("span",null,"$",t)),i.a.createElement("div",{className:"results-header__results-text--secondary"},"Cost per person ",i.a.createElement("span",null,"$",n))),i.a.createElement("div",{className:"results-header__toggle-lists-buttons"},i.a.createElement("div",{className:"persons"===a?"button results-btn results-btn--toggle-results results-btn--toggle-results--pressed":"button results-btn results-btn--toggle-results",onClick:"persons"===a?null:function(){return s("persons")}},"PERSONS"),i.a.createElement("div",{className:"items"===a?"button results-btn results-btn--toggle-results results-btn--toggle-results--pressed":"button results-btn results-btn--toggle-results",onClick:"items"===a?null:function(){return s("items"),void r(!1)}},"ITEMS")))}function C(e){return(0,e.getItemsList)(e.items).map((function(e){return i.a.createElement("div",{key:e.name,className:"list-item"},i.a.createElement("div",null,e.name.charAt(0).toUpperCase()+e.name.substring(1)),i.a.createElement("div",{className:"list-item--results__content-container"},i.a.createElement("div",{className:"list-item--results__item--cost"},"$ ",e.cost),i.a.createElement("div",{className:"list-item--results__item--person-name"},e.personName.charAt(0).toUpperCase()+e.personName.substring(1))))}))}function j(e){var t=e.person,n=e.difference,a=e.personDetail,s=e.costPerPerson,r=e.expensePerPerson,o=e.personDetailsToggle,l=a===t.name,c=r>s,m=l?"results-persons-list__card-info--expanded":c?"results-persons-list__card-info--is-owed":"results-persons-list__card-info";return i.a.createElement("div",{onClick:o,className:l?"list-item list-item--show":"list-item list-item__person--results"},i.a.createElement("div",{className:l?"results-persons-list__card-info__row results-persons-list__card-info__row--expanded":"results-persons-list__card-info__row"},i.a.createElement("div",{className:l?"results-persons-list__card-info__name results-persons-list__card-info__name--expanded":"results-persons-list__card-info__name"},t.name.charAt(0).toUpperCase()+t.name.substring(1)),i.a.createElement("div",{className:m},c?"IS OWED":"OWES","  $",n),i.a.createElement("i",{className:l?"fa fa-caret-up":"fa fa-caret-down"})),l&&i.a.createElement("div",{className:"results-persons-list__card--expanded__info--content"},i.a.createElement("div",{className:"results-persons-list__card--expanded__info--paid"},"PAID $",r),t.items.map((function(e){return i.a.createElement("div",{key:e.name,className:"results-persons-list__card--expanded__info--items"},e.name.charAt(0).toUpperCase()+e.name.substring(1),"  -  $",e.cost)}))))}function k(e){var t=e.setView,n=e.data,a=e.reset,s=Object(r.useState)(0),o=Object(c.a)(s,2),l=o[0],m=o[1],d=Object(r.useState)("persons"),p=Object(c.a)(d,2),_=p[0],E=p[1],f=Object(r.useState)(void 0),b=Object(c.a)(f,2),v=b[0],N=b[1],h=+(l/n.people.loggedPersons.length).toFixed(2),P=function(e){var t=0;return e.forEach((function(e){t+=+e.cost})),t},w=function(e){var t=P(e);return Math.abs(t-h)};return Object(r.useEffect)((function(){m(function(){var e=0;return n.people.loggedPersons.forEach((function(t){e+=P(t.items)})),e}())}),[]),i.a.createElement("div",{className:"view-container"},i.a.createElement(g,{reset:a,type:"resultsView",backToPeopleList:function(){return t("peopleList")}}),i.a.createElement(O,{viewMode:_,totalCost:l,setViewMode:E,costPerPerson:h,setPersonDetail:N}),"persons"===_&&n.people.loggedPersons.map((function(e){return i.a.createElement(j,{person:e,key:e.name,personDetail:v,costPerPerson:h,difference:w(e.items),expensePerPerson:P(e.items),personDetailsToggle:function(){return function(e){N(e!==v&&e)}(e.name)}})})),"items"===_&&i.a.createElement(C,{getItemsList:function(e){var t=[];return e.forEach((function(e){e.items.forEach((function(n){var a=Object(u.a)({},n,{personName:e.name});t.push(a)}))})),t},items:n.people.loggedPersons}),i.a.createElement("div",{className:"watermark"},i.a.createElement("a",{href:"http://www.github.com/pgast",style:{textDecoration:"none"}},"</> pgast")))}function I(e){var t=e.data,n=e.resetData,a=e.toggleMode,s=e.addPersonDispatch,o=e.editPersonDispatch,l=e.deletePersonDispatch,m=Object(r.useState)("peopleList"),u=Object(c.a)(m,2),d=u[0],p=u[1];return i.a.createElement(i.a.Fragment,null,"peopleList"===d&&i.a.createElement(b,{data:t,setView:p,editPerson:o,deletePerson:l,landing:function(){return a("landing")}}),"resultsView"===d&&i.a.createElement(k,{data:t,reset:function(){n(),a("landing")},setView:p}),"personEdit"===d&&i.a.createElement(w,{personEdit:!0,state:t,setView:p,addPersonDispatch:s,personToEdit:t.people.personToEdit}),"personForm"===d&&i.a.createElement(w,{state:t,setView:p,personEdit:!1,personToEdit:!1,addPersonDispatch:s}))}n(11);s.a.render(i.a.createElement((function(e){var t=Object(r.useReducer)(p,d),n=Object(c.a)(t,2),a={state:n[0],dispatch:n[1]};return i.a.createElement(_.Provider,{value:a},e.children)}),null,i.a.createElement((function(){var e=Object(r.useContext)(_),t=e.state,n=e.dispatch,a=function(e){return n({type:"TOGGLE_MODE",payload:e})};return i.a.createElement(i.a.Fragment,null,"landing"===t.mode&&i.a.createElement(E,{toggleMode:a}),"workView"===t.mode&&i.a.createElement(I,{data:t,resetData:function(){return n({type:"RESET_DATA"})},toggleMode:a,addPersonDispatch:function(e){return n({type:"ADD_PERSON",payload:e})},editPersonDispatch:function(e){return n({type:"EDIT_PERSON",payload:e})},deletePersonDispatch:function(e){return n({type:"DELETE_PERSON",payload:e})}}))}),null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):l(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):l(t,e)}))}}()},6:function(e,t,n){e.exports=n(12)}},[[6,1,2]]]);
//# sourceMappingURL=main.92f475cb.chunk.js.map